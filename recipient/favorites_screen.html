<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>FoodConnect - 我的最愛</title>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { 
            "primary": "#4CAF50",
            "secondary": "#FF9800",
          },
          fontFamily: { "display": ["Inter"] },
        },
      },
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <script src="../common/language.js"></script>
  <style>
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
  </style>
</head>
<body class="bg-gray-50 font-display">
  <div class="max-w-md mx-auto min-h-screen flex flex-col pb-20">
    
    <!-- Header - Mobile App Style -->
    <header class="bg-white px-4 py-4 border-b border-gray-200 flex items-center gap-3">
      <button onclick="history.back()" class="p-2 -ml-2 rounded-full hover:bg-gray-100">
        <span class="material-symbols-outlined">arrow_back</span>
      </button>
      <h1 class="text-xl font-bold flex-1" data-i18n="my_favorites">我的最愛</h1>
    </header>

    <!-- Tabs -->
    <div class="sticky top-0 bg-white border-b border-gray-200 px-4 py-2 z-10">
      <div class="flex gap-4">
        <button id="tab-donors" class="py-2 px-1 border-b-2 border-primary text-primary font-semibold text-sm" onclick="switchTab('donors')">
          <span data-i18n="favorite_donors">收藏的捐贈者</span> (3)
        </button>
        <button id="tab-settings" class="py-2 px-1 border-b-2 border-transparent text-gray-500 font-semibold text-sm" onclick="switchTab('settings')">
          <span data-i18n="notification_settings">通知設定</span>
        </button>
      </div>
    </div>

    <main class="flex-grow overflow-y-auto">
      
      <!-- Favorite Donors (FR-25) -->
      <div id="content-donors" class="p-4 space-y-3">
        
        <!-- Donor Card 1 -->
        <div class="bg-white rounded-xl shadow-sm p-4">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
              綠
            </div>
            <div class="flex-1">
              <h3 class="font-bold">綠色餐廳</h3>
              <div class="flex items-center gap-2 mt-1">
                <div class="flex items-center text-yellow-500">
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                </div>
                <span class="text-xs text-gray-500">(127)</span>
              </div>
            </div>
            <button onclick="toggleFavorite(1)" class="text-red-500">
              <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1">favorite</span>
            </button>
          </div>
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex items-center gap-2 text-xs text-gray-600">
              <span class="material-symbols-outlined text-sm">location_on</span>
              <span>觀塘道123號 • 150米</span>
            </div>
            <p class="text-xs text-gray-500 mt-2"><span data-i18n="recent_donation">最近捐贈</span>: 新鮮蔬菜沙拉</p>
          </div>
          <div class="flex items-center gap-2 mt-3">
            <label class="flex items-center gap-2 flex-1">
              <input type="checkbox" checked class="rounded border-gray-300 text-primary focus:ring-primary"/>
              <span class="text-xs text-gray-700" data-i18n="receive_notifications">接收新捐贈通知</span>
            </label>
            <button class="text-primary text-sm font-semibold" data-i18n="view_profile">查看資料</button>
          </div>
        </div>

        <!-- Donor Card 2 -->
        <div class="bg-white rounded-xl shadow-sm p-4">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
              陽
            </div>
            <div class="flex-1">
              <h3 class="font-bold">陽光烘焙坊</h3>
              <div class="flex items-center gap-2 mt-1">
                <div class="flex items-center text-yellow-500">
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs">star</span>
                </div>
                <span class="text-xs text-gray-500">(89)</span>
              </div>
            </div>
            <button onclick="toggleFavorite(2)" class="text-red-500">
              <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1">favorite</span>
            </button>
          </div>
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex items-center gap-2 text-xs text-gray-600">
              <span class="material-symbols-outlined text-sm">location_on</span>
              <span>觀塘道56號 • 300米</span>
            </div>
            <p class="text-xs text-gray-500 mt-2"><span data-i18n="recent_donation">最近捐贈</span>: 每日麵包</p>
          </div>
          <div class="flex items-center gap-2 mt-3">
            <label class="flex items-center gap-2 flex-1">
              <input type="checkbox" checked class="rounded border-gray-300 text-primary focus:ring-primary"/>
              <span class="text-xs text-gray-700" data-i18n="receive_notifications">接收新捐贈通知</span>
            </label>
            <button class="text-primary text-sm font-semibold" data-i18n="view_profile">查看資料</button>
          </div>
        </div>

        <!-- Donor Card 3 -->
        <div class="bg-white rounded-xl shadow-sm p-4">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
              香
            </div>
            <div class="flex-1">
              <h3 class="font-bold">香料屋餐廳</h3>
              <div class="flex items-center gap-2 mt-1">
                <div class="flex items-center text-yellow-500">
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                  <span class="material-symbols-outlined text-xs" style="font-variation-settings: 'FILL' 1">star</span>
                </div>
                <span class="text-xs text-gray-500">(56)</span>
              </div>
            </div>
            <button onclick="toggleFavorite(3)" class="text-red-500">
              <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1">favorite</span>
            </button>
          </div>
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex items-center gap-2 text-xs text-gray-600">
              <span class="material-symbols-outlined text-sm">location_on</span>
              <span>觀塘道200號 • 450<span data-i18n="meters">米</span></span>
            </div>
            <p class="text-xs text-gray-500 mt-2"><span data-i18n="recent_donation">最近捐贈</span>: 印度香料飯套餐</p>
          </div>
          <div class="flex items-center gap-2 mt-3">
            <label class="flex items-center gap-2 flex-1">
              <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary"/>
              <span class="text-xs text-gray-700" data-i18n="receive_notifications">接收新捐贈通知</span>
            </label>
            <button class="text-primary text-sm font-semibold" data-i18n="view_profile">查看資料</button>
          </div>
        </div>

      </div>

      <!-- Notification Settings -->
      <div id="content-settings" class="p-4 space-y-4" style="display: none;">
        
        <div class="bg-white rounded-xl shadow-sm p-4">
          <h2 class="font-bold mb-3" data-i18n="notification_preferences">通知偏好設定</h2>
          
          <div class="space-y-3">
            <label class="flex items-center justify-between py-2">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600">notifications_active</span>
                <div>
                  <p class="font-semibold text-sm" data-i18n="favorite_donor_new_post">收藏捐贈者新發佈</p>
                  <p class="text-xs text-gray-500" data-i18n="favorite_donor_new_post_desc">當您收藏的捐贈者發佈新食物時通知您</p>
                </div>
              </div>
              <input type="checkbox" checked class="rounded border-gray-300 text-primary focus:ring-primary"/>
            </label>

            <label class="flex items-center justify-between py-2 border-t border-gray-100">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600">local_dining</span>
                <div>
                  <p class="font-semibold text-sm" data-i18n="preferred_food_types">偏好食物類型</p>
                  <p class="text-xs text-gray-500" data-i18n="preferred_food_types_desc">素食、Halal 等標籤食物發佈時通知</p>
                </div>
              </div>
              <input type="checkbox" checked class="rounded border-gray-300 text-primary focus:ring-primary"/>
            </label>

            <label class="flex items-center justify-between py-2 border-t border-gray-100">
              <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600">location_on</span>
                <div>
                  <p class="font-semibold text-sm" data-i18n="nearby_new_donations">附近新捐贈</p>
                  <p class="text-xs text-gray-500" data-i18n="nearby_new_donations_desc">500米內有新捐贈時通知</p>
                </div>
              </div>
              <input type="checkbox" class="rounded border-gray-300 text-primary focus:ring-primary"/>
            </label>
          </div>
        </div>

        <!-- Food Preferences -->
        <div class="bg-white rounded-xl shadow-sm p-4">
          <h2 class="font-bold mb-3" data-i18n="food_preference_tags">飲食偏好標籤</h2>
          <p class="text-xs text-gray-500 mb-3" data-i18n="food_preference_desc">選擇您偏好的食物標籤，我們會優先推薦相關捐贈</p>
          
          <div class="flex flex-wrap gap-2">
            <label class="flex items-center gap-2 px-3 py-2 rounded-full border-2 border-primary bg-primary/10 text-primary cursor-pointer">
              <input type="checkbox" checked class="sr-only"/>
              <span class="text-sm font-medium" data-i18n="tag_vegetarian">素食</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 rounded-full border-2 border-emerald-500 bg-emerald-100 text-emerald-700 cursor-pointer">
              <input type="checkbox" checked class="sr-only"/>
              <span class="text-sm font-medium" data-i18n="tag_halal">清真 Halal</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 rounded-full border-2 border-gray-300 cursor-pointer has-[:checked]:bg-blue-100 has-[:checked]:border-blue-500 has-[:checked]:text-blue-700">
              <input type="checkbox" class="sr-only"/>
              <span class="text-sm font-medium" data-i18n="tag_vegan">純素</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 rounded-full border-2 border-gray-300 cursor-pointer has-[:checked]:bg-blue-100 has-[:checked]:border-blue-500 has-[:checked]:text-blue-700">
              <input type="checkbox" class="sr-only"/>
              <span class="text-sm font-medium" data-i18n="tag_gluten_free">無麩質</span>
            </label>
          </div>
        </div>

        <button class="w-full bg-gradient-to-r from-primary to-green-600 text-white py-3 rounded-xl font-semibold" data-i18n="save_settings">
          儲存設定
        </button>

      </div>

    </main>

    <!-- Bottom Navigation -->
    <footer class="bg-white border-t border-gray-200 px-4 py-2 fixed bottom-0 left-0 right-0 max-w-md mx-auto">
      <nav class="flex justify-around">
        <a class="flex flex-col items-center gap-1 text-gray-400 py-2" href="individual_recipient_home.html">
          <span class="material-symbols-outlined text-2xl">home</span>
          <span class="text-xs font-medium" data-i18n="nav_home">首頁</span>
        </a>
        <a class="flex flex-col items-center gap-1 text-primary py-2" href="favorites_screen.html">
          <span class="material-symbols-outlined text-2xl" style="font-variation-settings: 'FILL' 1">favorite</span>
          <span class="text-xs font-bold" data-i18n="nav_favorites">我的最愛</span>
        </a>
        <a class="flex flex-col items-center gap-1 text-gray-400 py-2" href="my_claims_screen.html">
          <span class="material-symbols-outlined text-2xl">receipt_long</span>
          <span class="text-xs font-medium" data-i18n="nav_claims">我的領取</span>
        </a>
        <a class="flex flex-col items-center gap-1 text-gray-400 py-2" href="profile_recipient.html">
          <span class="material-symbols-outlined text-2xl">person</span>
          <span class="text-xs font-medium" data-i18n="nav_profile">我的</span>
        </a>
      </nav>
    </footer>

  </div>

  <script>
    function switchTab(tab) {
      if (tab === 'donors') {
        document.getElementById('tab-donors').className = "py-2 px-1 border-b-2 border-primary text-primary font-semibold text-sm";
        document.getElementById('tab-settings').className = "py-2 px-1 border-b-2 border-transparent text-gray-500 font-semibold text-sm";
        document.getElementById('content-donors').style.display = 'block';
        document.getElementById('content-settings').style.display = 'none';
      } else {
        document.getElementById('tab-donors').className = "py-2 px-1 border-b-2 border-transparent text-gray-500 font-semibold text-sm";
        document.getElementById('tab-settings').className = "py-2 px-1 border-b-2 border-primary text-primary font-semibold text-sm";
        document.getElementById('content-donors').style.display = 'none';
        document.getElementById('content-settings').style.display = 'block';
      }
    }

    function toggleFavorite(id) {
      if (confirm(t('remove_favorite_confirm'))) {
        alert(t('favorite_removed'));
      }
    }
  </script>
</body>
</html>

